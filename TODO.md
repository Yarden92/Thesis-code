TODO list:
* make the vectors more generic so we won't need to make sure that: `len(X_xi)+len(pulse_shaper)=2048`
* missing upsampling
* find the xi boundries by plotting and check if data wasn't trimmed
* find the time boundries by plotting and check if data wasn't trimmed
* skip the bounce state to make it run faster


Tasks that are done:
